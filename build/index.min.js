var f,d,onClick=!1,options={keys:["name","description","cate"]},$awesome=$(".awesome-block"),$searchResult=$(".search-result"),getCateList=function(e,a){a=a||"null";var t;d=[],$.getJSON("https://raw.githubusercontent.com/lockys/awesome-search/gh-pages/data/"+a+".json",function(n){if(t=n,$awesome.html(""),"awesome"!==a){var s=$(e.target).data("url"),o=$(e.target).data("name");$(".cate").html(o),$awesome.append('<a href="/awesome-search/"><- Back to Awesome</a><br/><a href="'+s+'" target="_blank">-> Original Repo</a>')}$awesome.removeClass("content-hidden"),$searchResult.html(""),Object.keys(t).forEach(function(e){d=d.concat(t[e]);var a="<h2>"+e+"</h2>";$awesome.append(a),t[e].forEach(function(e){var a=e.name.replace(/\W/g,"").toLowerCase(),t="nodejs"===a||"awesome"===a?"":' href="'+e.url+'" ',n=e.description?" - "+e.description:"",s='<a class="mui-btn mui-btn--small mui-btn--primary '+a+'"'+t+'target="_blank" data-url="'+e.url+'" data-name="'+e.name+'"><span class="mui--text-white" data-url="'+e.url+'" data-name="'+e.name+'">'+e.name+'</span><span class="mui--text-black-54" data-url="'+e.url+'" data-name="'+e.name+'">'+n+"</span></a>";$awesome.append(s)})}),f=new Fuse(d,options),$.getJSON("https://raw.githubusercontent.com/lockys/awesome-search/gh-pages/data/nameMap.json",function(e){Object.keys(e).forEach(function(a){var t=e[a];$("."+t).on("click",function(e){return onClick?!1:(onClick=!0,void getCateList(e,t))})})}),onClick=!1})};getCateList(null,"awesome"),$(".awesome-input").on("input",function(e){var a=$(this).val();$awesome.addClass("content-hidden"),$searchResult.html(""),a||$awesome.removeClass("content-hidden");for(var t=f.search(a),n="",s=0,o=t.length;o>s;++s)if(t[s]){var r=t[s].name.replace(/\W/g,"").toLowerCase(),c="nodejs"===r||"awesome"===r?"":' href="'+e.url+'" ';n=t[s].description?" - "+t[s].description+"</br>":"<br/>",$searchResult.append('<a class="'+r+'"'+c+'target="_blank" data-url="'+t[s].url+'" data-name="'+t[s].name+'">'+t[s].name+"</a>"+n),function(e){$("."+e).on("click",function(a){getCateList(a,e)})}(r)}});