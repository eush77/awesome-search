var f,d,onClick=!1,options={keys:["name","description","cate"]},$awesome=$(".awesome-block"),$searchResult=$(".search-result"),getCateList=function(a,e){e=e||"null";var t;d=[],$awesome.addClass("content-hidden"),$.getJSON("https://raw.githubusercontent.com/lockys/awesome-search/gh-pages/data/"+e+".json",function(n){if(t=n,"awesome"!==e){var s=$(a.target).data("url"),o=$(a.target).data("name");$(".cate").html(o),$awesome.append('<a href="/awesome-search/"><- Back to Awesome</a><br/><a href="'+s+'" target="_blank">-> Original Repo</a>')}$awesome.html(""),$searchResult.html(""),Object.keys(t).forEach(function(a){d=d.concat(t[a]);var e="<h2>"+a+"</h2>";$awesome.append(e),t[a].forEach(function(a){var e=a.name.replace(/\W/g,"").toLowerCase(),t="",n=a.description?" - "+a.description:"",s='<a class="mui-btn mui-btn--small mui-btn--primary '+e+'"'+t+'target="_blank" data-url="'+a.url+'" data-name="'+a.name+'"><span class="mui--text-white" data-url="'+a.url+'" data-name="'+a.name+'">'+a.name+'</span><span class="mui--text-black-54" data-url="'+a.url+'" data-name="'+a.name+'">'+n+"</span></a>";$awesome.append(s)})}),f=new Fuse(d,options),$.getJSON("https://raw.githubusercontent.com/lockys/awesome-search/gh-pages/data/nameMap.json",function(a){for(var e=Object.keys(a),t=0,n=e.length;n>t;++t){var s=a[e[t]];!function(a){$("."+a).on("click",function(e){return onClick?!1:(onClick=!0,void getCateList(e,a))})}(s)}$awesome.removeClass("content-hidden")}),onClick=!1})};getCateList(null,"awesome"),$(".awesome-input").on("input",function(a){var e=$(this).val();$awesome.addClass("content-hidden"),$searchResult.html(""),e||$awesome.removeClass("content-hidden");for(var t=f.search(e),n="",s=0,o=t.length;o>s;++s)if(t[s]){var r=t[s].name.replace(/\W/g,"").toLowerCase(),c="";n=t[s].description?" - "+t[s].description+"</br>":"<br/>",$searchResult.append('<a class="'+r+'"'+c+'target="_blank" data-url="'+t[s].url+'" data-name="'+t[s].name+'">'+t[s].name+"</a>"+n),function(a){$("."+a).on("click",function(e){getCateList(e,a)})}(r)}});